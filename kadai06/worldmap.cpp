/*******************************************************************************
* タイトル:		worldmapプログラム
* プログラム名:	worldmap.cpp
* 作成者:		gp11b341 11 kurosawa yuta
* 作成日:		2018/04/16
*******************************************************************************/


/*******************************************************************************
* インクルードファイル
*******************************************************************************/
#include "main.h"
#include "worldmap.h"
#include "town.h"
#include "player.h"


/*******************************************************************************
* マクロ定義
*******************************************************************************/


/*******************************************************************************
* 構造体定義
*******************************************************************************/


/*******************************************************************************
* プロトタイプ宣言
*******************************************************************************/


/*******************************************************************************
* グローバル変数
*******************************************************************************/
char worldmap[TATE_MAX][FW_MAX + 1] = { // 横を+1しているのは文末のNULLの分
	"*******************************************************************************",
	"*山山山山山山山山山山                   城                  山山山山山山山山山*",
	"*山山山山山山山山山山山                                             山山山山山*",
	"*山山山山山山山山山                                                   山山山山*",
	"*山山山山山山                                                           山山山*",
	"*山山山山山                                                           山山山山*",
	"*山山山                   街                                                  *",
	"*                                                                             *",
	"*                                                                             *",
	"*                                                                             *",
	"*                    　                                                       *",
	"*                                                                             *",
	"*■■                                                                         *",
	"*〜■■　　　　　　■■                                                       *",
	"*〜〜〜■        ■〜■                                                       *",
	"*〜〜〜〜■　 ■〜〜■                                                        *",
	"*〜〜〜〜〜■〜〜〜〜■                                                       *",
	"*〜〜〜〜〜〜〜〜〜〜〜■■                                                   *",
	"*〜〜〜〜〜〜〜〜〜〜〜〜■■　　　　                                         *",
	"*〜〜〜〜〜〜〜〜〜〜〜〜〜■　　　　　■■■■■■■      ■■■■■■■■■ *",
	"*〜〜〜〜〜〜〜〜〜〜〜〜〜〜■　　　■〜〜〜〜〜〜■　■■〜〜〜〜〜〜〜〜〜 *",
	"*〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜■　■〜〜〜〜〜〜〜■■〜〜〜〜〜〜〜〜〜〜〜 *",
	"*〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜■〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜〜 *",
	"*******************************************************************************",
};

/*******************************************************************************
関数名:	void DrawWorldMap(void)
引数:	void
戻り値:	void
説明:	フィールドのアドレスを取得する
*******************************************************************************/
void DrawWorldMap(void)
{
	PLAYER *player = GetPlayerAdr(0);
	int y;
	
	///* 画面クリア */
	//system("cls");

	/* 画面描画処理 */
	for (y = 0; y < TATE_MAX; y++)
	{
		printf("%s\n", &worldmap[y][0]);
	}
	printf("player_x = %d player_y = %d\n", player->fx, player->fy);

	if ((player->fx == 26) && (player->fy == 6) || (player->fx == 27) && (player->fy == 6))
	{
		player->flag++;
		DrawTown();
		
		/* 画面クリア */
		system("cls");
	}
	//キー入力待ち
	rewind(stdin);
	_getch();

	/* 画面クリア */
	system("cls");








}

/*******************************************************************************
関数名:	char *GetWorldMapAdr( void )
引数:	int y : Y座標
int x : X座標
戻り値:	char *
説明:	フィールドのアドレスを取得する
*******************************************************************************/
char *GetWorldMapAdr(int y, int x)
{
	return &worldmap[y][x];
}